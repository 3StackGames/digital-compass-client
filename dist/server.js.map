{"version":3,"sources":["server.js"],"names":[],"mappings":";;;;wBAAe,WAAW;;;;4BACP,eAAe;;;;AAElC,IAAI,EAAE,GAAG,2BAAG,IAAI,CAAC,CAAC;AAClB,IAAI,SAAS,GAAG;AACd,SAAO,EAAE,EAAE;AACX,UAAQ,EAAE,EAAE;AACZ,SAAO,EAAE,EAAE;CACZ,CAAA;;AAED,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,UAAC,MAAM,EAAK;AAC9B,QAAM,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;AACvC,QAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;AAC7C,iBAAe,EAAE,CAAC;CACnB,CAAC,CAAC;;AAEH,SAAS,eAAe,GAAG;AACzB,IAAE,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;CACpC;;AAED,SAAS,YAAY,CAAC,IAAI,EAAE;AAC1B,MAAI,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;AAChC,SAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnB,WAAS,GAAG,+BAAO,SAAS,EAAE;AAC5B,WAAO,EAAE,OAAO;GACjB,CAAC,CAAC;AACH,iBAAe,EAAE,CAAC;CACnB;;AAED,SAAS,eAAe,CAAC,IAAI,EAAE;AAC7B,WAAS,GAAG,+BAAO,SAAS,EAAE;AAC5B,WAAO,EAAE,IAAI,CAAC,OAAO;GACtB,CAAC,CAAC;AACH,iBAAe,EAAE,CAAC;CACnB","file":"server.js","sourcesContent":["import ws from 'socket.io';\r\nimport assign from 'object-assign';\r\n\r\nlet io = ws(3000);\r\nlet gameState = {\r\n  players: [],\r\n  question: '',\r\n  answers: []\r\n}\r\n\r\nio.on('connection', (socket) => {\r\n  socket.on('join player', onJoinPlayer);\r\n  socket.on('submit answers', onSubmitAnswers);\r\n  emitUpdateState();\r\n});\r\n\r\nfunction emitUpdateState() {\r\n  io.emit('update state', gameState);\r\n}\r\n\r\nfunction onJoinPlayer(data) {\r\n  let players = gameState.players;\r\n  players.push(data);\r\n  gameState = assign(gameState, {\r\n    players: players\r\n  });\r\n  emitUpdateState();\r\n}\r\n\r\nfunction onSubmitAnswers(data) {\r\n  gameState = assign(gameState, {\r\n    answers: data.answers\r\n  });\r\n  emitUpdateState();\r\n}\r\n"],"sourceRoot":"/source/"}