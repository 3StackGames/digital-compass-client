{"version":3,"sources":["server.js"],"names":[],"mappings":";;;;wBAAe,WAAW;;;;4BACP,eAAe;;;;AAElC,IAAI,EAAE,GAAG,2BAAG,IAAI,CAAC,CAAC;AAClB,IAAI,SAAS,GAAG;AACd,SAAO,EAAE,EAAE;AACX,UAAQ,EAAE,EAAE;AACZ,SAAO,EAAE,EAAE;CACZ,CAAA;;AAED,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,UAAC,MAAM,EAAK;AAC9B,QAAM,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;AACvC,QAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;AAC7C,iBAAe,EAAE,CAAC;CACnB,CAAC,CAAC;;AAEH,SAAS,eAAe,GAAG;AACzB,IAAE,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;CACpC;;AAED,SAAS,YAAY,CAAC,IAAI,EAAE;AAC1B,MAAI,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;AAChC,SAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnB,WAAS,GAAG,+BAAO,SAAS,EAAE;AAC5B,WAAO,EAAE,OAAO;GACjB,CAAC,CAAC;AACH,iBAAe,EAAE,CAAC;CACnB;;AAED,SAAS,eAAe,CAAC,IAAI,EAAE;AAC7B,WAAS,GAAG,+BAAO,SAAS,EAAE;AAC5B,WAAO,EAAE,IAAI,CAAC,OAAO;GACtB,CAAC,CAAC;AACH,iBAAe,EAAE,CAAC;CACnB","file":"server.js","sourcesContent":["import ws from 'socket.io';\nimport assign from 'object-assign';\n\nlet io = ws(3000);\nlet gameState = {\n  players: [],\n  question: '',\n  answers: []\n}\n\nio.on('connection', (socket) => {\n  socket.on('join player', onJoinPlayer);\n  socket.on('submit answers', onSubmitAnswers);\n  emitUpdateState();\n});\n\nfunction emitUpdateState() {\n  io.emit('update state', gameState);\n}\n\nfunction onJoinPlayer(data) {\n  let players = gameState.players;\n  players.push(data);\n  gameState = assign(gameState, {\n    players: players\n  });\n  emitUpdateState();\n}\n\nfunction onSubmitAnswers(data) {\n  gameState = assign(gameState, {\n    answers: data.answers\n  });\n  emitUpdateState();\n}\n"],"sourceRoot":"/source/"}